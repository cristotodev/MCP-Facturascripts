{
  "openapi": "3.0.0",
  "info": {
    "title": "FacturaScripts API",
    "version": "1.0.0",
    "description": "Todas las rutas empiezan por /api/3. Requiere token en cabecera. Los POST y PUT usan form-data, no JSON. Filtros disponibles en GET: filter=campo:valor, order=campo:desc, offset=0&limit=50"
  },
  "servers": [
    {
      "url": "http://localhost",
      "description": "API Server"
    }
  ],
  "paths": {
    "/api/3/lineapedidoclientes": {
      "get": {
        "tags": [
          "Modelos"
        ],
        "summary": "Obtener lista de LineaPedidoCliente",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "description": "Número de registros a saltar",
            "schema": {
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Número máximo de registros",
            "schema": {
              "type": "integer",
              "default": 50
            }
          },
          {
            "name": "filter",
            "in": "query",
            "description": "Filtros (campo:valor)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "order",
            "in": "query",
            "description": "Orden (campo:asc|desc)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de LineaPedidoCliente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LineaPedidoCliente"
                  }
                },
                "example": [
                  {
                    "actualizastock": 1,
                    "cantidad": 123.45,
                    "codimpuesto": "Ejemplo",
                    "coste": 123.45,
                    "descripcion": "Descripción de ejemplo",
                    "dtopor": 123.45,
                    "dtopor2": 123.45,
                    "excepcioniva": "Ejemplo",
                    "idlinea": 1,
                    "idpedido": 1,
                    "idproducto": 1,
                    "irpf": 123.45,
                    "iva": 123.45,
                    "mostrar_cantidad": 1,
                    "mostrar_precio": 1,
                    "orden": 1,
                    "pvpsindto": 123.45,
                    "pvptotal": 123.45,
                    "pvpunitario": 123.45,
                    "recargo": 123.45,
                    "referencia": "Ejemplo",
                    "salto_pagina": 1,
                    "servido": 123.45,
                    "suplido": 1
                  }
                ]
              }
            }
          },
          "401": {
            "description": "No autorizado - Token inválido o expirado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Token inválido o expirado"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/3/lineapedidoproveedores": {
      "get": {
        "tags": [
          "Modelos"
        ],
        "summary": "Obtener lista de LineaPedidoProveedor",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "description": "Número de registros a saltar",
            "schema": {
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Número máximo de registros",
            "schema": {
              "type": "integer",
              "default": 50
            }
          },
          {
            "name": "filter",
            "in": "query",
            "description": "Filtros (campo:valor)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "order",
            "in": "query",
            "description": "Orden (campo:asc|desc)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de LineaPedidoProveedor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LineaPedidoProveedor"
                  }
                },
                "example": [
                  {
                    "actualizastock": 1,
                    "cantidad": 123.45,
                    "codimpuesto": "Ejemplo",
                    "descripcion": "Descripción de ejemplo",
                    "dtopor": 123.45,
                    "dtopor2": 123.45,
                    "excepcioniva": "Ejemplo",
                    "idlinea": 1,
                    "idpedido": 1,
                    "idproducto": 1,
                    "irpf": 123.45,
                    "iva": 123.45,
                    "orden": 1,
                    "pvpsindto": 123.45,
                    "pvptotal": 123.45,
                    "pvpunitario": 123.45,
                    "recargo": 123.45,
                    "referencia": "Ejemplo",
                    "servido": 123.45,
                    "suplido": 1
                  }
                ]
              }
            }
          },
          "401": {
            "description": "No autorizado - Token inválido o expirado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Token inválido o expirado"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/3/lineapresupuestoclientes": {
      "get": {
        "tags": [
          "Modelos"
        ],
        "summary": "Obtener lista de LineaPresupuestoCliente",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "description": "Número de registros a saltar",
            "schema": {
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Número máximo de registros",
            "schema": {
              "type": "integer",
              "default": 50
            }
          },
          {
            "name": "filter",
            "in": "query",
            "description": "Filtros (campo:valor)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "order",
            "in": "query",
            "description": "Orden (campo:asc|desc)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de LineaPresupuestoCliente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LineaPresupuestoCliente"
                  }
                },
                "example": [
                  {
                    "actualizastock": 1,
                    "cantidad": 123.45,
                    "codimpuesto": "Ejemplo",
                    "coste": 123.45,
                    "descripcion": "Descripción de ejemplo",
                    "dtopor": 123.45,
                    "dtopor2": 123.45,
                    "excepcioniva": "Ejemplo",
                    "idlinea": 1,
                    "idpresupuesto": 1,
                    "idproducto": 1,
                    "irpf": 123.45,
                    "iva": 123.45,
                    "mostrar_cantidad": 1,
                    "mostrar_precio": 1,
                    "orden": 1,
                    "pvpsindto": 123.45,
                    "pvptotal": 123.45,
                    "pvpunitario": 123.45,
                    "recargo": 123.45,
                    "referencia": "Ejemplo",
                    "salto_pagina": 1,
                    "servido": 123.45,
                    "suplido": 1
                  }
                ]
              }
            }
          },
          "401": {
            "description": "No autorizado - Token inválido o expirado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Token inválido o expirado"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/3/lineapresupuestoproveedores": {
      "get": {
        "tags": [
          "Modelos"
        ],
        "summary": "Obtener lista de LineaPresupuestoProveedor",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "description": "Número de registros a saltar",
            "schema": {
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Número máximo de registros",
            "schema": {
              "type": "integer",
              "default": 50
            }
          },
          {
            "name": "filter",
            "in": "query",
            "description": "Filtros (campo:valor)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "order",
            "in": "query",
            "description": "Orden (campo:asc|desc)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de LineaPresupuestoProveedor",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LineaPresupuestoProveedor"
                  }
                },
                "example": [
                  {
                    "actualizastock": 1,
                    "cantidad": 123.45,
                    "codimpuesto": "Ejemplo",
                    "descripcion": "Descripción de ejemplo",
                    "dtopor": 123.45,
                    "dtopor2": 123.45,
                    "excepcioniva": "Ejemplo",
                    "idlinea": 1,
                    "idpresupuesto": 1,
                    "idproducto": 1,
                    "irpf": 123.45,
                    "iva": 123.45,
                    "orden": 1,
                    "pvpsindto": 123.45,
                    "pvptotal": 123.45,
                    "pvpunitario": 123.45,
                    "recargo": 123.45,
                    "referencia": "Ejemplo",
                    "servido": 123.45,
                    "suplido": 1
                  }
                ]
              }
            }
          },
          "401": {
            "description": "No autorizado - Token inválido o expirado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Token inválido o expirado"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/3/logmessages": {
      "get": {
        "tags": [
          "Modelos"
        ],
        "summary": "Obtener lista de LogMessage",
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "description": "Número de registros a saltar",
            "schema": {
              "type": "integer",
              "default": 0
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Número máximo de registros",
            "schema": {
              "type": "integer",
              "default": 50
            }
          },
          {
            "name": "filter",
            "in": "query",
            "description": "Filtros (campo:valor)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "order",
            "in": "query",
            "description": "Orden (campo:asc|desc)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de LogMessage",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LogMessage"
                  }
                },
                "example": [
                  {
                    "channel": "Ejemplo",
                    "context": "Ejemplo",
                    "id": 1,
                    "idcontacto": 1,
                    "ip": "Ejemplo",
                    "level": "Ejemplo",
                    "message": "Ejemplo",
                    "model": "Ejemplo",
                    "modelcode": "Ejemplo",
                    "nick": "Ejemplo",
                    "time": "2025-08-12 18:49:13",
                    "uri": "Ejemplo"
                  }
                ]
              }
            }
          },
          "401": {
            "description": "No autorizado - Token inválido o expirado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "error"
                    },
                    "message": {
                      "type": "string",
                      "example": "Token inválido o expirado"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}